{"version":3,"sources":["library/tezos.js","components/create/style.js","components/create/index.jsx","components/execute/style.js","components/execute/index.jsx","components/header/style.js","components/header/index.jsx","components/submit/style.js","components/submit/index.jsx","components/rotate/style.js","components/rotate/index.jsx","App.js","reportWebVitals.js","index.js","library/config.mainnet.js"],"names":["config","require","default","connectTezAccount","a","client","DAppClient","name","network","requestPermissions","type","getActiveAccount","account","console","log","rpc","getNextOperationIndex","multisigAddress","TezosNodeReader","getContractStorage","multisigStorage","Number","JSONPath","path","json","error","mintRequest","chainId","operationIndex","tokenAddress","destinationAddress","tokenBalance","operation","encodedChainId","TezosMessageUtils","writeBufferWithHint","toString","writeAddress","composeMintRequest","bytes","writePackedData","burnRequest","composeBurnRequest","setAdminRequest","composeSetAdminRequest","keyRotateRequest","threshold","keys","map","k","writePublicKey","join","composeKeyRotateRequest","mintIndexedRequest","tokenIndex","entrypointArgs","entrypointInterface","composeIndexedMintRequest","burnIndexedRequest","composeIndexedBurnRequest","submitMultisigOperation","signatures","entrypoint","params","s","address","signature","interact","to","amtInMuTez","parameters","res","status","Error","executeMultisigOperation","id","getChainID","getChainId","operations","ops","forEach","op","push","kind","TezosOperationType","TRANSACTION","amount","destination","source","value","JSON","parse","head","getBlockHead","header","level","requestOperation","operationDetails","result","awaitOperationConfirmation","useStyles","makeStyles","theme","menu","display","margin","menuItem","color","fontSize","textDecoration","title","justifyContent","wallet","border","borderRadius","width","padding","background","fontWeight","textTransform","cursor","box","container","select","label","verticalAlign","input","Create","classes","useState","setOperation","opData","setOpData","sig","setSig","tokens","tokenAddr","setTokenAddress","handleMint","event","preventDefault","tokenRecord","filter","t","multisigAddr","tokenType","Promise","all","chainID","opID","data","target","requestSignPayload","signingType","SigningType","MICHELINE","payload","alert","mintBurn","handler","onSubmit","className","placeholder","required","handleBurn","handleRotateKeys","split","trim","handleSetAdmin","admin","htmlFor","Select","labelId","onChange","token","MenuItem","tokenName","renderForm","readOnly","style","Execute","setMultisigAddress","setOperationIndex","useEffect","fetchData","idx","catch","handleSubmit","flexGrow","flexDirection","Header","href","Submit","count","setCount","setOpID","sigs","i","sort","b","a1","BigInt","b1","min","Rotate","App","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.10cae527.chunk.js","sourcesContent":["import { DAppClient, TezosOperationType } from \"@airgap/beacon-sdk\";\nimport { TezosMessageUtils, TezosNodeReader } from \"conseiljs\";\nimport { JSONPath } from \"jsonpath-plus\";\n\n// const config = require(`./config.${process.env.REACT_APP_ENV || \"mainnet\"}.js`);\nconst config = require('./config.mainnet.js').default;\n\nexport const connectTezAccount = async () => {\n    const client = new DAppClient({ name: \"Multisig\" });\n    const network = config.network === \"mainnet\" ? \"mainnet\" : \"ghostnet\";\n    await client.requestPermissions({ network: { type: network } });\n    const account = await client.getActiveAccount();\n\n    console.log(`connected to ${network} at ${config.rpc} as ${account[\"address\"]}`)\n\n    return { client, account: account[\"address\"] };\n};\n\nexport const getNextOperationIndex = async (multisigAddress) => {\n    try {\n        const multisigStorage = await TezosNodeReader.getContractStorage(config.rpc, multisigAddress);\n\n        return (Number(JSONPath({ path: \"$.args[0].args[0].int\", json: multisigStorage })[0]) + 1);\n    } catch {\n        console.error(`could not read operation index for ${multisigAddress}`);\n        return 0;\n    }\n};\n\nconst composeTransferRequest = (chainId, operationIndex, tokenAddress, sourceAddress, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, \"chain_id\").toString(\"hex\");\n\n    return `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${operationIndex}\" }, [ { \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [ { \"prim\": \"operation\" } ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" } ] }, { \"prim\": \"CONTRACT\", \"args\": [ { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"int\" } ] } ] } ], \"annots\": [ \"%transfer\" ] }, { \"prim\": \"IF_NONE\", \"args\": [ [ { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"int\" }, { \"int\": \"10\" } ] }, { \"prim\": \"FAILWITH\" } ], [] ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"mutez\" }, { \"int\": \"0\" } ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"nat\" } ] } ] }, { \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(sourceAddress)}\" }, { \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"int\": \"${tokenBalance}\" } ] } ] } ] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" } ] ] } ] }`;\n};\n\nexport const transferRequest = (chainId, operationIndex, tokenAddress, sourceAddress, destinationAddress, tokenBalance) => {\n    const operation = composeTransferRequest(chainId, operationIndex, tokenAddress, sourceAddress, destinationAddress, tokenBalance);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, \"\") };\n};\n\nconst composeMintRequest = (chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, \"chain_id\").toString(\"hex\");\n\n    return `{ \"prim\": \"Pair\", \"args\": [{ \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [{ \"int\": \"${operationIndex}\" }, [{ \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [{ \"prim\": \"operation\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" }] }, { \"prim\": \"CONTRACT\", \"args\": [{ \"prim\": \"pair\", \"args\": [{ \"prim\": \"address\" }, { \"prim\": \"nat\" }] }], \"annots\": [\"%mint\"] }, { \"prim\": \"IF_NONE\", \"args\": [ [{ \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"int\" }, { \"int\": \"10\" }] }, { \"prim\": \"FAILWITH\" }], [] ] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"mutez\" }, { \"int\": \"0\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"pair\", \"args\": [{ \"prim\": \"address\" }, { \"prim\": \"nat\" }] }, { \"prim\": \"Pair\", \"args\": [{ \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"int\": \"${tokenBalance}\" }] }] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" }] ] }] }`;\n};\n\nexport const mintRequest = (chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance) => {\n    const operation = composeMintRequest(chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, \"\") };\n};\n\nconst composeBurnRequest = (chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, \"chain_id\").toString(\"hex\");\n\n    return `{ \"prim\": \"Pair\", \"args\": [{ \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [{ \"int\": \"${operationIndex}\" }, [{ \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [{ \"prim\": \"operation\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" }] }, { \"prim\": \"CONTRACT\", \"args\": [{ \"prim\": \"pair\", \"args\": [{ \"prim\": \"address\" }, { \"prim\": \"nat\" }] }], \"annots\": [\"%burn\"] }, { \"prim\": \"IF_NONE\", \"args\": [ [{ \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"int\" }, { \"int\": \"10\" }] }, { \"prim\": \"FAILWITH\" }], [] ] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"mutez\" }, { \"int\": \"0\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"pair\", \"args\": [{ \"prim\": \"address\" }, { \"prim\": \"nat\" }] }, { \"prim\": \"Pair\", \"args\": [{ \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"int\": \"${tokenBalance}\" }] }] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" }] ] }] }`;\n};\n\nexport const burnRequest = (chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance) => {\n    const operation = composeBurnRequest(chainId, operationIndex, tokenAddress, destinationAddress, tokenBalance);\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, \"\") };\n};\n\nconst composeSetAdminRequest = (chainId, operationIndex, tokenAddress, destinationAddress) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, \"chain_id\").toString(\"hex\");\n\n    return `{ \"prim\": \"Pair\", \"args\": [{ \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [{ \"int\": \"${operationIndex}\" }, [{ \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [{ \"prim\": \"operation\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" }] }, { \"prim\": \"CONTRACT\", \"args\": [{ \"prim\": \"address\" }], \"annots\": [\"%setAdministrator\"] }, { \"prim\": \"IF_NONE\", \"args\": [ [{ \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"int\" }, { \"int\": \"10\" }] }, { \"prim\": \"FAILWITH\" }], [] ] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"mutez\" }, { \"int\": \"0\" }] }, { \"prim\": \"PUSH\", \"args\": [{ \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" }] ] }] }`;\n};\n\nexport const setAdminRequest = (chainId, operationIndex, tokenAddress, destinationAddress) => {\n    const operation = composeSetAdminRequest(chainId, operationIndex, tokenAddress, destinationAddress);\n    return {\n        operation,\n        bytes: TezosMessageUtils.writePackedData(operation, \"\"),\n    };\n};\n\nconst composeKeyRotateRequest = (chainId, operationIndex, threshold, keys) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, \"chain_id\").toString(\"hex\");\n\n    return `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${operationIndex}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${threshold}\" }, [ ${keys.map(k => `{ \"bytes\": \"${TezosMessageUtils.writePublicKey(k)}\" }`).join(', ')} ] ] } ] } ] }`;\n};\n\nexport const keyRotateRequest = (chainId, operationIndex, threshold, keys) => {\n    const operation = composeKeyRotateRequest(chainId, operationIndex, threshold, keys);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, \"\") };\n};\n\nconst composeIndexedTransferRequest = (chainId, operationIndex, tokenAddress, tokenIndex, sourceAddress, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, 'chain_id').toString('hex');\n\n    const transfer = `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${tokenIndex}\" }, { \"int\": \"${tokenBalance}\" } ] } ] }`;\n    const transferList = `[ { \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(sourceAddress)}\" }, [ ${transfer} ] ] } ]`;\n\n    const definition = '{ \"prim\": \"list\", \"args\": [ { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"list\", \"args\": [ { \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"pair\", \"args\": [ { \"prim\": \"nat\" }, { \"prim\": \"nat\" } ] } ] } ] } ] } ]}';\n\n    return `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${operationIndex}\" }, [ { \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [ { \"prim\": \"operation\" } ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" } ] }, { \"prim\": \"CONTRACT\", \"args\": [ ${definition} ], \"annots\": [ \"%transfer\" ] }, { \"prim\": \"IF_NONE\", \"args\": [ [ { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"int\" }, { \"int\": \"10\" } ] }, { \"prim\": \"FAILWITH\" } ], [] ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"mutez\" }, { \"int\": \"0\" } ] }, { \"prim\": \"PUSH\", \"args\": [ ${definition}, ${transferList} ] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" } ] ] } ]}`;\n};\n\nexport const transferIndexedRequest = (chainId, operationIndex, tokenAddress, tokenIndex, sourceAddress, destinationAddress, tokenBalance) => {\n    const operation = composeIndexedTransferRequest(chainId, operationIndex, tokenAddress, tokenIndex, sourceAddress, destinationAddress, tokenBalance);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, '') };\n};\n\nconst composeIndexedMintRequest = (chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, 'chain_id').toString('hex');\n\n    const entrypointArgs = `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${tokenIndex}\" }, { \"int\": \"${tokenBalance}\" } ] } ] }`;\n    const entrypointInterface = '{ \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"pair\", \"args\": [ { \"prim\": \"nat\" }, { \"prim\": \"nat\" } ] } ] }'\n\n    return `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${operationIndex}\" }, [ { \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [ { \"prim\": \"operation\" } ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" } ] }, { \"prim\": \"CONTRACT\", \"args\": [ ${entrypointInterface} ], \"annots\": [ \"%mint\" ] }, { \"prim\": \"IF_NONE\", \"args\": [ [ { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"int\" }, { \"int\": \"10\" } ] }, { \"prim\": \"FAILWITH\" } ], [] ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"mutez\" }, { \"int\": \"0\" } ] }, { \"prim\": \"PUSH\", \"args\": [ ${entrypointInterface}, ${entrypointArgs} ] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" } ] ] } ]}`;\n};\n\nexport const mintIndexedRequest = (chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance) => {\n    const operation = composeIndexedMintRequest(chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, '') };\n};\n\nconst composeIndexedBurnRequest = (chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance) => {\n    const encodedChainId = TezosMessageUtils.writeBufferWithHint(chainId, 'chain_id').toString('hex');\n\n    const entrypointArgs = `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${TezosMessageUtils.writeAddress(destinationAddress)}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${tokenIndex}\" }, { \"int\": \"${tokenBalance}\" } ] } ] }`;\n    const entrypointInterface = '{ \"prim\": \"pair\", \"args\": [ { \"prim\": \"address\" }, { \"prim\": \"pair\", \"args\": [ { \"prim\": \"nat\" }, { \"prim\": \"nat\" } ] } ] }'\n\n    return `{ \"prim\": \"Pair\", \"args\": [ { \"bytes\": \"${encodedChainId}\" }, { \"prim\": \"Pair\", \"args\": [ { \"int\": \"${operationIndex}\" }, [ { \"prim\": \"DROP\" }, { \"prim\": \"NIL\", \"args\": [ { \"prim\": \"operation\" } ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"address\" }, { \"bytes\": \"${TezosMessageUtils.writeAddress(tokenAddress)}\" } ] }, { \"prim\": \"CONTRACT\", \"args\": [ ${entrypointInterface} ], \"annots\": [ \"%burn\" ] }, { \"prim\": \"IF_NONE\", \"args\": [ [ { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"int\" }, { \"int\": \"10\" } ] }, { \"prim\": \"FAILWITH\" } ], [] ] }, { \"prim\": \"PUSH\", \"args\": [ { \"prim\": \"mutez\" }, { \"int\": \"0\" } ] }, { \"prim\": \"PUSH\", \"args\": [ ${entrypointInterface}, ${entrypointArgs} ] }, { \"prim\": \"TRANSFER_TOKENS\" }, { \"prim\": \"CONS\" } ] ] } ]}`;\n};\n\nexport const burnIndexedRequest = (chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance) => {\n    const operation = composeIndexedBurnRequest(chainId, operationIndex, tokenAddress, tokenIndex, destinationAddress, tokenBalance);\n\n    return { operation, bytes: TezosMessageUtils.writePackedData(operation, '') };\n};\n\nexport const submitMultisigOperation = async ({ client, account }, multisigAddress, signatures, operation, entrypoint = 'submit') => {\n    const params = `{ \"prim\": \"Pair\", \"args\": [ [ ${signatures.map((s) => `{ \"prim\": \"Elt\", \"args\": [{ \"string\": \"${s.address}\" }, { \"string\": \"${s.signature}\" }] }`).join(\", \")} ], ${operation} ] }`;\n\n    const res = await interact({ client, account }, [\n        {\n            to: multisigAddress,\n            amtInMuTez: 0,\n            entrypoint,\n            parameters: params,\n        },\n    ]);\n\n    if (res.status !== \"applied\") {\n        throw new Error(\"TEZOS TX FAILED\");\n    }\n\n    return res;\n};\n\nexport const executeMultisigOperation = async ({ client, account }, multisigAddress, id) => {\n    const res = await interact({ client, account }, [ { to: multisigAddress, amtInMuTez: 0, entrypoint: \"execute\", parameters: `{\"int\": \"${id}\"}` } ]);\n\n    if (res.status !== \"applied\") {\n        throw new Error(\"TEZOS TX FAILED\");\n    }\n\n    return res;\n};\n\nexport const getChainID = async () => {\n    return TezosNodeReader.getChainId(config.rpc);\n};\n\nexport const interact = async ({ client, account }, operations, extraGas = 500, extraStorage = 50) => {\n    try {\n        let ops = [];\n        operations.forEach((op) => {\n            ops.push({\n                kind: TezosOperationType.TRANSACTION,\n                amount: op.amtInMuTez,\n                destination: op.to,\n                source: account,\n                parameters: {\n                    entrypoint: op.entrypoint,\n                    value: JSON.parse(op.parameters),\n                },\n            });\n        });\n\n        let head = 0;\n        try { head = (await TezosNodeReader.getBlockHead(config.rpc)).header.level; } catch { }\n\n        const result = await client.requestOperation({ operationDetails: ops, });\n\n        if (head > 0) {\n            try {\n                await TezosNodeReader.awaitOperationConfirmation(config.rpc, head, result[\"transactionHash\"], 7);\n            } catch { }\n        }\n\n        return result[\"transactionHash\"];\n    } catch (err) {\n        console.error(err);\n        throw err;\n    }\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menu: { display: \"flex\", margin: \"0 auto\" },\n  menuItem: {\n    color: \"black\",\n    display: \"block\",\n    fontSize: \"2vw\",\n    margin: \"1vw 2vw 2vw 2vw\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  title: {\n    fontSize: \"5vw\",\n    margin: \"2.5vw 1vw 1vw 1vw\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  wallet: {\n    border: \"0.2vw solid black\",\n    borderRadius: \"0.3vw\",\n    width: \"50%\",\n    margin: \"2.5vw auto\",\n    padding: \"1vw\",\n    background: \"black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    textTransform: \"none\",\n    fontSize: \"1.1vw\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      background: \"white\",\n      color: \"black\",\n    },\n  },\n  box: { width: \"30%\" },\n  container: {\n    width: \"70%\",\n    margin: \"0 auto\",\n    padding: \"3vw\",\n  },\n  select: {\n    width: \"fit-content\",\n    margin: \"0.7vw\",\n  },\n  label: {\n    display: \"inline-block\",\n    padding: \"0.7vw\",\n    verticalAlign: \"top\"\n  },\n  input: {\n    margin: \"0.7vw\",\n  },\n  display: {\n    margin: \"4vw\",\n  },\n}));\n\nexport default useStyles;\n","import { MenuItem, Select } from \"@material-ui/core\";\nimport { burnIndexedRequest, burnRequest, connectTezAccount, getChainID, getNextOperationIndex, mintIndexedRequest, mintRequest, keyRotateRequest, setAdminRequest } from \"../../library/tezos\";\n\nimport { SigningType } from \"@airgap/beacon-sdk\";\nimport { useState } from \"react\";\nimport useStyles from \"./style\";\n\nconst config = require('../../library/config.mainnet.js').default;\n\nconst Create = () => {\n  const classes = useStyles();\n  const [operation, setOperation] = useState('mint');\n  const [opData, setOpData] = useState('operation data');\n  const [sig, setSig] = useState('your signature');\n  const [tokenAddress, setTokenAddress] = useState(config.tokens[0].tokenAddr);\n  const handleChange = (event) => {\n    setOperation(event.target.value);\n  };\n\n  const handleMint = async (event) => {\n    event.preventDefault();\n    try {\n      const tokenRecord = config.tokens.filter(t => t.tokenAddr === tokenAddress)[0];\n      const multisigAddr = tokenRecord.multisigAddr;\n      const tokenType = tokenRecord.tokenType ?? 'FA1.2';\nconsole.log('bbb 1')\n      const [chainID, opID, { client, account }] = await Promise.all([getChainID(), getNextOperationIndex(multisigAddr), connectTezAccount()]);\n      console.log('bbb 2')\n      const data =\n        tokenType === 'FA1.2' ?\n        mintRequest(chainID, opID, tokenAddress, event.target.address.value, event.target.amount.value)\n        : mintIndexedRequest(chainID, opID, tokenAddress, tokenRecord.tokenIndex, event.target.address.value, event.target.amount.value);\n        console.log('bbb 3')\n      const sig = await client.requestSignPayload({ signingType: SigningType.MICHELINE, payload: data.bytes });\n      setSig(sig.signature)\n      setOpData(data.operation)\n    } catch (err) {\n      console.log(\"Failed to create operation\", err)\n      alert(\"Failed to create operation\")\n    }\n  };\n\n  const mintBurn = (handler) => {\n    return (\n      <form onSubmit={handler}>\n        <label className={classes.label}>\n          Address:\n        </label>\n        <input className={classes.input} type=\"text\" name=\"address\" placeholder=\"Address\" required />\n        <label className={classes.label}>\n          Amount:\n        </label>\n        <input className={classes.input} type=\"number\" name=\"amount\" placeholder=\"Amount\" required />\n        <input className={classes.input} type=\"submit\" value=\"Sign\" />\n      </form>\n    )\n  }\n\n  const handleBurn = async (event) => {\n    event.preventDefault();\n    try {\n      const tokenRecord = config.tokens.filter(t => t.tokenAddr === tokenAddress)[0];\n      const multisigAddr = tokenRecord.multisigAddr;\n      const tokenType = tokenRecord.tokenType ?? 'FA1.2';\n\n      const [chainID, opID, { client, account }] = await Promise.all([getChainID(), getNextOperationIndex(multisigAddr), connectTezAccount()])\n      const data =\n        tokenType === 'FA1.2' ?\n          burnRequest(chainID, opID, tokenAddress, event.target.address.value, event.target.amount.value)\n          : burnIndexedRequest(chainID, opID, tokenAddress, tokenRecord.tokenIndex, event.target.address.value, event.target.amount.value);\n      const sig = await client.requestSignPayload({ signingType: SigningType.MICHELINE, payload: data.bytes });\n      setSig(sig.signature)\n      setOpData(data.operation)\n    } catch (err) {\n      console.log(\"Failed to create operation\", err)\n      alert(\"Failed to create operation\")\n    }\n  };\n\n  const rotateKeysForm = (handler) => {\n    return (\n      <form onSubmit={handler}>\n        <label htmlFor=\"threshold\" className={classes.label}>Threshold</label>\n        <input className={classes.input} type=\"number\" name=\"threshold\" placeholder=\"2\" required />\n        <label htmlFor=\"keys\" className={classes.label}>Keys</label>\n        <input className={classes.input} type=\"text\" name=\"keys\" placeholder=\"edpk..., edpk..., edpk...\" required />\n        <input className={classes.input} type=\"submit\" value=\"Sign\" />\n      </form>\n    )\n  }\n\n  const handleRotateKeys = async (event) => {\n    event.preventDefault();\n    try {\n      const multisigAddr = config.tokens.filter(t => t.tokenAddr === tokenAddress)[0].multisigAddr;\n      const [chainID, opID, { client, account }] = await Promise.all([getChainID(), getNextOperationIndex(multisigAddr), connectTezAccount()])\n      const data = keyRotateRequest(chainID, opID, event.target.threshold.value, event.target.keys.value.split(',').map(k => k.trim()))\n      const sig = await client.requestSignPayload({ signingType: SigningType.MICHELINE, payload: data.bytes });\n      setSig(sig.signature)\n      setOpData(data.operation)\n    } catch (err) {\n      console.log(\"Failed to create operation\", err)\n      alert(\"Failed to create operation\")\n    }\n  };\n\n  const handleSetAdmin = async (event) => {\n    event.preventDefault();\n    try {\n      const multisigAddr = config.tokens.filter(t => t.tokenAddr === tokenAddress)[0].multisigAddr;\n      const [chainID, opID, { client, account }] = await Promise.all([getChainID(), getNextOperationIndex(multisigAddr), connectTezAccount()])\n      const data = setAdminRequest(chainID, opID, event.target.admin.value)\n      const sig = await client.requestSignPayload({ signingType: SigningType.MICHELINE, payload: data.bytes });\n      setSig(sig.signature)\n      setOpData(data.operation)\n    } catch (err) {\n      console.log(\"Failed to create operation\", err)\n      alert(\"Failed to create operation\")\n    }\n  };\n\n  const setAdmin = () => {\n    return (\n      <form onSubmit={handleSetAdmin}>\n        <label className={classes.label}>\n          Admin:\n        </label>\n        <input className={classes.input} type=\"text\" name=\"admin\" placeholder=\"New Admin Address\" required />\n        <input className={classes.input} type=\"submit\" value=\"Sign\" />\n      </form>\n    )\n  }\n\n  const renderForm = () => {\n    switch (operation) {\n      case \"mint\": return mintBurn(handleMint);\n      case \"burn\": return mintBurn(handleBurn);\n      case \"setadmin\": return setAdmin();\n      case \"rotatekeys\": return rotateKeysForm(handleRotateKeys);\n      default: return mintBurn(handleMint);\n    }\n  };\n\n  return (\n    <div className={classes.container}>\n      <label htmlFor=\"token\" className={classes.label}>Token</label>\n      <Select\n            className={classes.select}\n            labelId=\"token\"\n            id=\"token\"\n            value={tokenAddress}\n            label=\"token\"\n            onChange={(event) => { setTokenAddress(event.target.value) }}\n        >\n        {config.tokens.map(token => <MenuItem key={`menuItem${token.tokenName}`} value={token.tokenAddr}>{token.tokenName}</MenuItem>)}\n      </Select>\n\n      <label htmlFor=\"operations\" className={classes.label}>Action</label>\n      <Select\n        className={classes.select}\n        labelId=\"operations\"\n        id=\"operations\"\n        value={operation}\n        label=\"Operation\"\n        onChange={handleChange}\n      >\n        <MenuItem value={\"mint\"}>Mint</MenuItem>\n        <MenuItem value={\"burn\"}>Burn</MenuItem>\n        <MenuItem value={\"setadmin\"}>Set Admin</MenuItem>\n        <MenuItem value={\"rotatekeys\"}>Rotate Keys</MenuItem>\n      </Select>\n\n      {renderForm()}\n\n      <div className={classes.display}>\n        <label htmlFor=\"operation\" className={classes.label}>Operation</label>\n        <textarea name=\"operation\" className={classes.input} readOnly style={{width: \"600px\"}} value={opData}></textarea>\n        <br />\n        <label htmlFor=\"signature\" className={classes.label}>Signature</label>\n        <input name=\"signature\" className={classes.input} type=\"text\" value={sig} readOnly style={{width: \"600px\"}}/>\n      </div>\n    </div>\n  );\n};\n\nexport default Create;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menu: { display: \"flex\", margin: \"0 auto\" },\n  menuItem: {\n    color: \"black\",\n    display: \"block\",\n    fontSize: \"2vw\",\n    margin: \"1vw 2vw 2vw 2vw\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  title: {\n    fontSize: \"5vw\",\n    margin: \"2.5vw 1vw 1vw 1vw\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  wallet: {\n    border: \"0.2vw solid black\",\n    borderRadius: \"0.3vw\",\n    width: \"50%\",\n    margin: \"2.5vw auto\",\n    padding: \"1vw\",\n    background: \"black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    textTransform: \"none\",\n    fontSize: \"1.1vw\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      background: \"white\",\n      color: \"black\",\n    },\n  },\n  box: { width: \"30%\" },\n  container: {\n    width: \"70%\",\n    margin: \"0 auto\",\n    padding: \"3vw\",\n  },\n  select: {\n    width: \"fit-content\",\n    margin: \"0.7vw\",\n  },\n  label: {\n    padding: \"0.7vw\",\n  },\n  input: {\n    margin: \"0.7vw\",\n  },\n  display: {\n    margin: \"4vw\",\n  },\n}));\n\nexport default useStyles;\n","import { MenuItem, Select } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\n\nimport { connectTezAccount, executeMultisigOperation, getNextOperationIndex } from \"../../library/tezos\";\nimport useStyles from \"./style\";\n\nconst config = require('../../library/config.mainnet.js').default;\n\nconst Execute = () => {\n  const classes = useStyles();\n  const [multisigAddress, setMultisigAddress] = useState(config.tokens[0].multisigAddr);\n  const [operationIndex, setOperationIndex] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      let idx = 0;\n      try {\n        idx = await getNextOperationIndex(multisigAddress);\n      } catch { }\n      setOperationIndex(idx - 1);\n    }\n\n      fetchData().catch(console.error);\n  }, [multisigAddress]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const client = await connectTezAccount()\n      await executeMultisigOperation(client, multisigAddress, event.target.id.value)\n    } catch (err) {\n      console.log(\"Failed to submit operation\", err)\n      alert(\"Failed to submit operation\")\n    }\n  };\n\n  return (\n    <div className={classes.container}>\n      <form onSubmit={handleSubmit}>\n      <label htmlFor=\"token\" className={classes.label}>Token</label>\n        <Select\n            className={classes.select}\n            labelId=\"token\"\n            id=\"token\"\n            value={multisigAddress}\n            label=\"token\"\n            onChange={(event) => { setMultisigAddress(event.target.value); }}\n          >\n          {config.tokens.map(token => <MenuItem key={`menuItem${token.tokenName}`} value={token.multisigAddr}>{token.tokenName}</MenuItem>)}\n        </Select>\n        <label htmlFor=\"id\" className={classes.label}>Operation Index</label>\n        <input className={classes.input} type=\"number\" name=\"id\" value={operationIndex} onChange={(event) => setOperationIndex(event.target.value)} required />\n        <input className={classes.input} type=\"submit\" value=\"Execute\" />\n      </form>\n    </div>\n  );\n};\n\nexport default Execute;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menu: { display: \"flex\", margin: \"0 auto\" },\n  menuItem: {\n    color: \"black\",\n    display: \"block\",\n    fontSize: \"2vw\",\n    margin: \"1vw 2vw 2vw 2vw\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  title: {\n    fontSize: \"5vw\",\n    margin: \"2.5vw 1vw 1vw 1vw\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  wallet: {\n    border: \"0.2vw solid black\",\n    borderRadius: \"0.3vw\",\n    width: \"50%\",\n    margin: \"2.5vw auto\",\n    padding: \"1vw\",\n    background: \"black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    textTransform: \"none\",\n    fontSize: \"1.1vw\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      background: \"white\",\n      color: \"black\",\n    },\n  },\n  box: { width: \"30%\" },\n  container: {\n    flexGrow: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-evenly\",\n  },\n}));\n\nexport default useStyles;\n","import useStyles from \"./style\";\n\nconst Header = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.header}>\n      <div className={classes.container}>\n        <h1 className={classes.title}>MultiSig</h1>\n        <div className={classes.menu}>\n          <a href=\"./create\" className={classes.menuItem}>\n            Create\n          </a>\n          <a href=\"./submit\" className={classes.menuItem}>\n            Submit\n          </a>\n          <a href=\"./execute\" className={classes.menuItem}>\n            Execute\n          </a>\n          <a href=\"./rotate\" className={classes.menuItem}>\n            Rotate\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menu: { display: \"flex\", margin: \"0 auto\" },\n  menuItem: {\n    color: \"black\",\n    display: \"block\",\n    fontSize: \"2vw\",\n    margin: \"1vw 2vw 2vw 2vw\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  title: {\n    fontSize: \"5vw\",\n    margin: \"2.5vw 1vw 1vw 1vw\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  wallet: {\n    border: \"0.2vw solid black\",\n    borderRadius: \"0.3vw\",\n    width: \"50%\",\n    margin: \"2.5vw auto\",\n    padding: \"1vw\",\n    background: \"black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    textTransform: \"none\",\n    fontSize: \"1.1vw\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      background: \"white\",\n      color: \"black\",\n    },\n  },\n  box: { width: \"30%\" },\n  container: {\n    width: \"70%\",\n    margin: \"0 auto\",\n    padding: \"3vw\",\n  },\n  select: {\n    width: \"fit-content\",\n    margin: \"0.7vw\",\n  },\n  label: {\n    padding: \"0.7vw\",\n  },\n  input: {\n    margin: \"0.7vw\",\n  },\n  display: {\n    margin: \"4vw\",\n  },\n  opID: {\n    margin: \"2vw\",\n  },\n}));\n\nexport default useStyles;\n","import { MenuItem, Select } from \"@material-ui/core\";\nimport { TezosMessageUtils } from \"conseiljs\";\nimport { useEffect, useState } from \"react\";\n\nimport { connectTezAccount, getNextOperationIndex, submitMultisigOperation } from \"../../library/tezos\";\nimport useStyles from \"./style\";\n\nconst config = require('../../library/config.mainnet.js').default;\n\nconst Submit = () => {\n  const classes = useStyles();\n  const [count, setCount] = useState(1);\n  const [opID, setOpID] = useState(0);\n  const [multisigAddress, setMultisigAddress] = useState(config.tokens[0].multisigAddr);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      let idx = 0;\n      try {\n        idx = await getNextOperationIndex(multisigAddress);\n      } catch { }\n      setOpID(idx);\n    }\n\n      fetchData().catch(console.error);\n  }, [multisigAddress]);\n\n  const handleSigs = (event) => {\n    event.preventDefault();\n    setCount(event.target.count.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const sigs = []\n      for (let i = 1; i <= count; i++) {\n        sigs.push({ signature: event.target[`signature${i}`].value, address: event.target[`address${i}`].value })\n      }\n\n      sigs.sort((a, b) => {\n        // eslint-disable-next-line no-undef\n        const a1 = BigInt(\"0x\" + TezosMessageUtils.writeAddress(a.address))\n        // eslint-disable-next-line no-undef\n        const b1 = BigInt(\"0x\" + TezosMessageUtils.writeAddress(b.address))\n\n        if (a1 > b1) { return 1; }\n\n        if (a1 < b1) { return -1; }\n\n        return 0;\n      })\n\n      const client = await connectTezAccount();\n      const opID = await getNextOperationIndex(multisigAddress);\n\n      await submitMultisigOperation(client, multisigAddress, sigs, event.target.operation.value, 'submit');\n\n      alert(\"operation submitted\")\n      setOpID(opID);\n    } catch (err) {\n      console.log(\"Failed to submit operation\", err)\n      alert(\"Failed to submit operation\")\n    }\n  };\n\n  const renderForm = () => {\n    let sigs = [];\n    for (let i = 1; i <= count; i++) {\n      sigs.push(\n        <div key={`sigContainer${i}`}>\n          <label htmlFor={`address${i}`} className={classes.label}>Address {i}</label>\n          <input className={classes.input} type=\"text\" name={`address${i}`} placeholder=\"Address\" required />\n          <label htmlFor={`signature${i}`} className={classes.label}>Signature {i}</label>\n          <input className={classes.input} type=\"text\" name={`signature${i}`} placeholder=\"Signature\" required />\n        </div>\n      )\n    }\n    return (\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"token\" className={classes.label}>Token</label>\n        <Select\n            className={classes.select}\n            labelId=\"token\"\n            id=\"token\"\n            value={multisigAddress}\n            label=\"token\"\n            onChange={(event) => { setMultisigAddress(event.target.value) }}\n          >\n        {config.tokens.map(token => <MenuItem key={`menuItem${token.tokenName}`} value={token.multisigAddr}>{token.tokenName}</MenuItem>)}\n        </Select>\n        <label htmlFor=\"operation\" className={classes.label}>Operation</label>\n        <input className={classes.input} type=\"text\" name=\"operation\" placeholder=\"Operation\" required />\n        <br /><br />\n        {sigs}\n\n        <input className={classes.input} type=\"submit\" value=\"Submit\" />\n      </form>\n    )\n  }\n  return (\n    <div className={classes.container}>\n      <form onSubmit={handleSigs}>\n        <label htmlFor=\"count\" className={classes.label}>Signature Count</label>\n        <input className={classes.input} type=\"number\" min={1} name=\"count\" placeholder=\"Signature Count\" required />\n        <input className={classes.input} type=\"submit\" value=\"Set\" />\n      </form><br />\n      {renderForm()}\n      <div className={classes.opID}>Operation Index: {opID}</div>\n    </div>\n  );\n};\n\nexport default Submit;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  menu: { display: \"flex\", margin: \"0 auto\" },\n  menuItem: {\n    color: \"black\",\n    display: \"block\",\n    fontSize: \"2vw\",\n    margin: \"1vw 2vw 2vw 2vw\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  title: {\n    fontSize: \"5vw\",\n    margin: \"2.5vw 1vw 1vw 1vw\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  wallet: {\n    border: \"0.2vw solid black\",\n    borderRadius: \"0.3vw\",\n    width: \"50%\",\n    margin: \"2.5vw auto\",\n    padding: \"1vw\",\n    background: \"black\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    textTransform: \"none\",\n    fontSize: \"1.1vw\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      background: \"white\",\n      color: \"black\",\n    },\n  },\n  box: { width: \"30%\" },\n  container: {\n    width: \"70%\",\n    margin: \"0 auto\",\n    padding: \"3vw\",\n  },\n  select: {\n    width: \"fit-content\",\n    margin: \"0.7vw\",\n  },\n  label: {\n    padding: \"0.7vw\",\n  },\n  input: {\n    margin: \"0.7vw\",\n  },\n  display: {\n    margin: \"4vw\",\n  },\n  opID: {\n    margin: \"2vw\",\n  },\n}));\n\nexport default useStyles;\n","import { MenuItem, Select } from \"@material-ui/core\";\nimport { TezosMessageUtils } from \"conseiljs\";\nimport { useState } from \"react\";\n\nimport { connectTezAccount, submitMultisigOperation } from \"../../library/tezos\";\nimport useStyles from \"./style\";\n\nconst config = require('../../library/config.mainnet.js').default;\n\nconst Rotate = () => {\n  const classes = useStyles();\n  const [count, setCount] = useState(1);\n  const [multisigAddress, setMultisigAddress] = useState(config.tokens[0].multisigAddr);\n\n  const handleSigs = (event) => {\n    event.preventDefault();\n    setCount(event.target.count.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const sigs = []\n      for (let i = 1; i <= count; i++) {\n        sigs.push({ signature: event.target[`signature${i}`].value, address: event.target[`address${i}`].value })\n      }\n\n      sigs.sort((a, b) => {\n        // eslint-disable-next-line no-undef\n        const a1 = BigInt(\"0x\" + TezosMessageUtils.writeAddress(a.address))\n        // eslint-disable-next-line no-undef\n        const b1 = BigInt(\"0x\" + TezosMessageUtils.writeAddress(b.address))\n\n        if (a1 > b1) { return 1; }\n\n        if (a1 < b1) { return -1; }\n\n        return 0;\n      })\n\n      const client = await connectTezAccount();\n      await submitMultisigOperation(client, multisigAddress, sigs, event.target.operation.value, 'rotate');\n    } catch (err) {\n      console.log(\"Failed to submit operation\", err)\n      alert(\"Failed to submit operation\")\n    }\n  };\n\n  const renderForm = () => {\n    let sigs = [];\n    for (let i = 1; i <= count; i++) {\n      sigs.push(\n        <div key={`sigContainer${i}`}>\n          <label htmlFor={`address${i}`} className={classes.label}>Address {i}</label>\n          <input className={classes.input} type=\"text\" name={`address${i}`} placeholder=\"Address\" required />\n          <label htmlFor={`signature${i}`} className={classes.label}>Signature {i}</label>\n          <input className={classes.input} type=\"text\" name={`signature${i}`} placeholder=\"Signature\" required />\n        </div>\n      )\n    }\n    return (\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"token\" className={classes.label}>Token</label>\n        <Select\n            className={classes.select}\n            labelId=\"token\"\n            id=\"token\"\n            value={multisigAddress}\n            label=\"token\"\n            onChange={(event) => { setMultisigAddress(event.target.value) }}\n          >\n        {config.tokens.map(token => <MenuItem key={`menuItem${token.tokenName}`} value={token.multisigAddr}>{token.tokenName}</MenuItem>)}\n        </Select>\n        <label htmlFor=\"operation\" className={classes.label}>Operation</label>\n        <input className={classes.input} type=\"text\" name=\"operation\" placeholder=\"Operation\" required />\n        <br /><br />\n        {sigs}\n\n        <input className={classes.input} type=\"submit\" value=\"Rotate\" />\n      </form>\n    )\n  }\n  return (\n    <div className={classes.container}>\n      <form onSubmit={handleSigs}>\n        <label htmlFor=\"count\" className={classes.label}>Signature Count</label>\n        <input className={classes.input} type=\"number\" min={1} name=\"count\" placeholder=\"Signature Count\" required />\n        <input className={classes.input} type=\"submit\" value=\"Set\" />\n      </form><br />\n      {renderForm()}\n    </div>\n  );\n};\n\nexport default Rotate;\n","import \"./App.css\";\n\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\n\nimport Create from \"./components/create\";\nimport Execute from \"./components/execute\";\nimport Header from \"./components/header\";\nimport Submit from \"./components/submit\";\nimport Rotate from \"./components/rotate\";\n\nfunction App() {\n  return (\n    \n      <div className=\"App\">\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            <Create />\n          </Route>{\" \"}\n          <Route exact path=\"/create\">\n            <Create />\n          </Route>\n          <Route exact path=\"/submit\">\n            <Submit />\n          </Route>\n          <Route exact path=\"/execute\">\n            <Execute />\n          </Route>\n          <Route exact path=\"/rotate\">\n            <Rotate />\n          </Route>\n        </Switch>\n      </div>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import BrowserRouter from 'react-router-dom/BrowserRouter'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const config = {\n    \"rpc\": \"https://mainnet.tezos.marigold.dev/\",\n    \"network\": \"mainnet\",\n    \"tokens\": [\n        {\n            \"tokenName\": \"USDtz\",\n            \"tokenAddr\": \"KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9\",\n            \"multisigAddr\": \"KT1DTxmuuEARtynHP2r6EX14PieaPmTu1vxF\"\n            \n        },\n        {\n            \"tokenName\": \"ETHtz\",\n            \"tokenAddr\": \"KT19at7rQUvyjxnZ2fBv7D9zc8rkyG7gAoU8\",\n            \"multisigAddr\": \"KT1KVx6hbPZERpszy9MsiK18XjrJewUJYYfW\"\n            \n        },\n        {\n            \"tokenName\": \"BTCtz\",\n            \"tokenType\": \"FA2\",\n            \"tokenIndex\": 0,\n            \"tokenAddr\": \"KT1T87QbpXEVgkwsNPzz8iRoah3SS3D1MDmh\",\n            \"multisigAddr\": \"KT18mL6WEyiJbevboKa8kEVRP2Rgvb8gxaJD\"\n        }\n    ]\n};\n\nexport default config;\n"],"sourceRoot":""}