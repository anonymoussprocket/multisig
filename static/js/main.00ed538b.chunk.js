(this.webpackJsonpmultisig=this.webpackJsonpmultisig||[]).push([[0],{148:function(e,t){},235:function(e,t,r){},236:function(e,t,r){},242:function(e,t){},244:function(e,t){},255:function(e,t){},257:function(e,t){},284:function(e,t){},286:function(e,t){},287:function(e,t){},292:function(e,t){},294:function(e,t){},313:function(e,t){},325:function(e,t){},328:function(e,t){},399:function(e,t,r){"use strict";r.r(t);var n=r(226),a=r.n(n),i=r(1),s=r.n(i),c=r(25),o=r.n(c),l=(r(235),r(236),r(224)),u=r(28),p=r(0),d=r.n(p),m=r(32),b=r(23),g=r(430),v=r(431),j=r(18),h=r(12),f=r(37),x=r(93),w=function(){var e=Object(m.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.i({name:"Multisig"}),r="mainnet"===x.network?"mainnet":"ghostnet",e.next=4,t.requestPermissions({network:{type:r}});case 4:return e.next=6,t.getActiveAccount();case 6:return n=e.sent,console.log("connected to ".concat(r," at ").concat(x.rpc," as ").concat(n.address)),e.abrupt("return",{client:t,account:n.address});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.TezosNodeReader.getContractStorage(x.rpc,t);case 3:return r=e.sent,e.abrupt("return",Number(Object(f.JSONPath)({path:"$.args[0].args[0].int",json:r})[0])+1);case 7:return e.prev=7,e.t0=e.catch(0),console.error("could not read operation index for ".concat(t)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,r,n,a){var i=function(e,t,r,n,a){var i=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [{ "bytes": "'.concat(i,'" }, { "prim": "Pair", "args": [{ "int": "').concat(t,'" }, [{ "prim": "DROP" }, { "prim": "NIL", "args": [{ "prim": "operation" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(r),'" }] }, { "prim": "CONTRACT", "args": [{ "prim": "pair", "args": [{ "prim": "address" }, { "prim": "nat" }] }], "annots": ["%mint"] }, { "prim": "IF_NONE", "args": [ [{ "prim": "PUSH", "args": [{ "prim": "int" }, { "int": "10" }] }, { "prim": "FAILWITH" }], [] ] }, { "prim": "PUSH", "args": [{ "prim": "mutez" }, { "int": "0" }] }, { "prim": "PUSH", "args": [{ "prim": "pair", "args": [{ "prim": "address" }, { "prim": "nat" }] }, { "prim": "Pair", "args": [{ "bytes": "').concat(h.TezosMessageUtils.writeAddress(n),'" }, { "int": "').concat(a,'" }] }] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" }] ] }] }')}(e,t,r,n,a);return{operation:i,bytes:h.TezosMessageUtils.writePackedData(i,"")}},y=function(e,t,r,n,a){var i=function(e,t,r,n,a){var i=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [{ "bytes": "'.concat(i,'" }, { "prim": "Pair", "args": [{ "int": "').concat(t,'" }, [{ "prim": "DROP" }, { "prim": "NIL", "args": [{ "prim": "operation" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(r),'" }] }, { "prim": "CONTRACT", "args": [{ "prim": "pair", "args": [{ "prim": "address" }, { "prim": "nat" }] }], "annots": ["%burn"] }, { "prim": "IF_NONE", "args": [ [{ "prim": "PUSH", "args": [{ "prim": "int" }, { "int": "10" }] }, { "prim": "FAILWITH" }], [] ] }, { "prim": "PUSH", "args": [{ "prim": "mutez" }, { "int": "0" }] }, { "prim": "PUSH", "args": [{ "prim": "pair", "args": [{ "prim": "address" }, { "prim": "nat" }] }, { "prim": "Pair", "args": [{ "bytes": "').concat(h.TezosMessageUtils.writeAddress(n),'" }, { "int": "').concat(a,'" }] }] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" }] ] }] }')}(e,t,r,n,a);return{operation:i,bytes:h.TezosMessageUtils.writePackedData(i,"")}},N=function(e,t,r,n){var a=function(e,t,r,n){var a=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [{ "bytes": "'.concat(a,'" }, { "prim": "Pair", "args": [{ "int": "').concat(t,'" }, [{ "prim": "DROP" }, { "prim": "NIL", "args": [{ "prim": "operation" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(r),'" }] }, { "prim": "CONTRACT", "args": [{ "prim": "address" }], "annots": ["%setAdministrator"] }, { "prim": "IF_NONE", "args": [ [{ "prim": "PUSH", "args": [{ "prim": "int" }, { "int": "10" }] }, { "prim": "FAILWITH" }], [] ] }, { "prim": "PUSH", "args": [{ "prim": "mutez" }, { "int": "0" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(n),'" }] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" }] ] }] }')}(e,t,r,n);return{operation:a,bytes:h.TezosMessageUtils.writePackedData(a,"")}},S=function(e,t,r,n){var a=function(e,t,r,n){var a=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(a,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, { "prim": "Pair", "args": [ { "int": "').concat(r,'" }, [ ').concat(n.map((function(e){return'{ "bytes": "'.concat(h.TezosMessageUtils.writePublicKey(e),'" }')})).join(", ")," ] ] } ] } ] }")}(e,t,r,n);return{operation:a,bytes:h.TezosMessageUtils.writePackedData(a,"")}},T=function(e,t,r,n,a,i){var s=function(e,t,r,n,a,i){var s=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex"),c='{ "prim": "Pair", "args": [ { "bytes": "'.concat(h.TezosMessageUtils.writeAddress(a),'" }, { "prim": "Pair", "args": [ { "int": "').concat(n,'" }, { "int": "').concat(i,'" } ] } ] }'),o='{ "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "nat" }, { "prim": "nat" } ] } ] }';return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(s,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, [ { "prim": "DROP" }, { "prim": "NIL", "args": [ { "prim": "operation" } ] }, { "prim": "PUSH", "args": [ { "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(r),'" } ] }, { "prim": "CONTRACT", "args": [ ').concat(o,' ], "annots": [ "%mint" ] }, { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "10" } ] }, { "prim": "FAILWITH" } ], [] ] }, { "prim": "PUSH", "args": [ { "prim": "mutez" }, { "int": "0" } ] }, { "prim": "PUSH", "args": [ ').concat(o,", ").concat(c,' ] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" } ] ] } ]}')}(e,t,r,n,a,i);return{operation:s,bytes:h.TezosMessageUtils.writePackedData(s,"")}},A=function(e,t,r,n,a,i){var s=function(e,t,r,n,a,i){var s=h.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex"),c='{ "prim": "Pair", "args": [ { "bytes": "'.concat(h.TezosMessageUtils.writeAddress(a),'" }, { "prim": "Pair", "args": [ { "int": "').concat(n,'" }, { "int": "').concat(i,'" } ] } ] }'),o='{ "prim": "pair", "args": [ { "prim": "address" }, { "prim": "pair", "args": [ { "prim": "nat" }, { "prim": "nat" } ] } ] }';return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(s,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, [ { "prim": "DROP" }, { "prim": "NIL", "args": [ { "prim": "operation" } ] }, { "prim": "PUSH", "args": [ { "prim": "address" }, { "bytes": "').concat(h.TezosMessageUtils.writeAddress(r),'" } ] }, { "prim": "CONTRACT", "args": [ ').concat(o,' ], "annots": [ "%burn" ] }, { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "10" } ] }, { "prim": "FAILWITH" } ], [] ] }, { "prim": "PUSH", "args": [ { "prim": "mutez" }, { "int": "0" } ] }, { "prim": "PUSH", "args": [ ').concat(o,", ").concat(c,' ] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" } ] ] } ]}')}(e,t,r,n,a,i);return{operation:s,bytes:h.TezosMessageUtils.writePackedData(s,"")}},P=function(){var e=Object(m.a)(d.a.mark((function e(t,r,n,a){var i,s,c,o,l,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.client,s=t.account,c=u.length>4&&void 0!==u[4]?u[4]:"submit",o='{ "prim": "Pair", "args": [ [ '.concat(n.map((function(e){return'{ "prim": "Elt", "args": [{ "string": "'.concat(e.address,'" }, { "string": "').concat(e.signature,'" }] }')})).join(", ")," ], ").concat(a," ] }"),e.next=5,F({client:i,account:s},[{to:r,amtInMuTez:0,entrypoint:c,parameters:o}]);case 5:if("applied"===(l=e.sent).status){e.next=8;break}throw new Error("TEZOS TX FAILED");case 8:return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(d.a.mark((function e(t,r,n){var a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,i=t.account,e.next=3,F({client:a,account:i},[{to:r,amtInMuTez:0,entrypoint:"execute",parameters:'{"int": "'.concat(n,'"}')}]);case 3:if("applied"===(s=e.sent).status){e.next=6;break}throw new Error("TEZOS TX FAILED");case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.TezosNodeReader.getChainId(x.rpc));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(d.a.mark((function e(t,r){var n,a,i,s,c,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,a=t.account,o.length>2&&void 0!==o[2]?o[2]:500,o.length>3&&void 0!==o[3]?o[3]:50,e.prev=3,i=[],r.forEach((function(e){i.push({kind:j.D.TRANSACTION,amount:e.amtInMuTez,destination:e.to,source:a,parameters:{entrypoint:e.entrypoint,value:JSON.parse(e.parameters)}})})),s=0,e.prev=7,e.next=10,h.TezosNodeReader.getBlockHead(x.rpc);case 10:s=e.sent.header.level,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:return e.next=17,n.requestOperation({operationDetails:i});case 17:if(c=e.sent,!(s>0)){e.next=26;break}return e.prev=19,e.next=22,h.TezosNodeReader.awaitOperationConfirmation(x.rpc,s,c.transactionHash,7);case 22:e.next=26;break;case 24:e.prev=24,e.t1=e.catch(19);case 26:return e.abrupt("return",c.transactionHash);case 29:throw e.prev=29,e.t2=e.catch(3),console.error(e.t2),e.t2;case 33:case"end":return e.stop()}}),e,null,[[3,29],[7,13],[19,24]])})));return function(t,r){return e.apply(this,arguments)}}(),U=r(425),C=Object(U.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{display:"inline-block",padding:"0.7vw",verticalAlign:"top"},input:{margin:"0.7vw"},display:{margin:"4vw"}}})),R=r(3),E=r(93),M=function(){var e=C(),t=Object(i.useState)("mint"),r=Object(b.a)(t,2),n=r[0],a=r[1],s=Object(i.useState)("operation data"),c=Object(b.a)(s,2),o=c[0],l=c[1],u=Object(i.useState)("your signature"),p=Object(b.a)(u,2),h=p[0],f=p[1],x=Object(i.useState)(E.tokens[0].tokenAddr),P=Object(b.a)(x,2),I=P[0],F=P[1],U=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,n,a,i,s,c,o,u,p,m,g,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=E.tokens.filter((function(e){return e.tokenAddr===I}))[0],a=n.multisigAddr,i=null!==(r=n.tokenType)&&void 0!==r?r:"FA1.2",console.log("bbb 1"),e.next=8,Promise.all([z(),O(a),w()]);case 8:return s=e.sent,c=Object(b.a)(s,3),o=c[0],u=c[1],p=c[2],m=p.client,p.account,console.log("bbb 2"),g="FA1.2"===i?k(o,u,I,t.target.address.value,t.target.amount.value):T(o,u,I,n.tokenIndex,t.target.address.value,t.target.amount.value),console.log("bbb 3"),e.next=20,m.requestSignPayload({signingType:j.B.MICHELINE,payload:g.bytes});case 20:v=e.sent,f(v.signature),l(g.operation),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 29:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t){return e.apply(this,arguments)}}(),M=function(t){return Object(R.jsxs)("form",{onSubmit:t,children:[Object(R.jsx)("label",{className:e.label,children:"Address:"}),Object(R.jsx)("input",{className:e.input,type:"text",name:"address",placeholder:"Address",required:!0}),Object(R.jsx)("label",{className:e.label,children:"Amount:"}),Object(R.jsx)("input",{className:e.input,type:"number",name:"amount",placeholder:"Amount",required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]})},D=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,n,a,i,s,c,o,u,p,m,g,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=E.tokens.filter((function(e){return e.tokenAddr===I}))[0],a=n.multisigAddr,i=null!==(r=n.tokenType)&&void 0!==r?r:"FA1.2",e.next=7,Promise.all([z(),O(a),w()]);case 7:return s=e.sent,c=Object(b.a)(s,3),o=c[0],u=c[1],p=c[2],m=p.client,p.account,g="FA1.2"===i?y(o,u,I,t.target.address.value,t.target.amount.value):A(o,u,I,n.tokenIndex,t.target.address.value,t.target.amount.value),e.next=17,m.requestSignPayload({signingType:j.B.MICHELINE,payload:g.bytes});case 17:v=e.sent,f(v.signature),l(g.operation),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,n,a,i,s,c,o,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=E.tokens.filter((function(e){return e.tokenAddr===I}))[0].multisigAddr,e.next=5,Promise.all([z(),O(r),w()]);case 5:return n=e.sent,a=Object(b.a)(n,3),i=a[0],s=a[1],c=a[2],o=c.client,c.account,u=S(i,s,t.target.threshold.value,t.target.keys.value.split(",").map((function(e){return e.trim()}))),e.next=15,o.requestSignPayload({signingType:j.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,f(p.signature),l(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,n,a,i,s,c,o,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=E.tokens.filter((function(e){return e.tokenAddr===I}))[0].multisigAddr,e.next=5,Promise.all([z(),O(r),w()]);case 5:return n=e.sent,a=Object(b.a)(n,3),i=a[0],s=a[1],c=a[2],o=c.client,c.account,u=N(i,s,t.target.admin.value),e.next=15,o.requestSignPayload({signingType:j.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,f(p.signature),l(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:e.container,children:[Object(R.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(R.jsx)(g.a,{className:e.select,labelId:"token",id:"token",value:I,label:"token",onChange:function(e){F(e.target.value)},children:E.tokens.map((function(e){return Object(R.jsx)(v.a,{value:e.tokenAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(R.jsx)("label",{htmlFor:"operations",className:e.label,children:"Action"}),Object(R.jsxs)(g.a,{className:e.select,labelId:"operations",id:"operations",value:n,label:"Operation",onChange:function(e){a(e.target.value)},children:[Object(R.jsx)(v.a,{value:"mint",children:"Mint"}),Object(R.jsx)(v.a,{value:"burn",children:"Burn"}),Object(R.jsx)(v.a,{value:"setadmin",children:"Set Admin"}),Object(R.jsx)(v.a,{value:"rotatekeys",children:"Rotate Keys"})]}),function(){switch(n){default:return M(U);case"burn":return M(D);case"setadmin":return Object(R.jsxs)("form",{onSubmit:q,children:[Object(R.jsx)("label",{className:e.label,children:"Admin:"}),Object(R.jsx)("input",{className:e.input,type:"text",name:"admin",placeholder:"New Admin Address",required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]});case"rotatekeys":return t=H,Object(R.jsxs)("form",{onSubmit:t,children:[Object(R.jsx)("label",{htmlFor:"threshold",className:e.label,children:"Threshold"}),Object(R.jsx)("input",{className:e.input,type:"number",name:"threshold",placeholder:"2",required:!0}),Object(R.jsx)("label",{htmlFor:"keys",className:e.label,children:"Keys"}),Object(R.jsx)("input",{className:e.input,type:"text",name:"keys",placeholder:"edpk..., edpk..., edpk...",required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]})}var t}(),Object(R.jsxs)("div",{className:e.display,children:[Object(R.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(R.jsx)("textarea",{name:"operation",className:e.input,readOnly:!0,style:{width:"600px"},value:o}),Object(R.jsx)("br",{}),Object(R.jsx)("label",{htmlFor:"signature",className:e.label,children:"Signature"}),Object(R.jsx)("input",{name:"signature",className:e.input,type:"text",value:h,readOnly:!0,style:{width:"600px"}})]})]})},D=Object(U.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"}}})),H=r(93),q=function(){var e=D(),t=Object(i.useState)(H.tokens[0].multisigAddr),r=Object(b.a)(t,2),n=r[0],a=r[1],s=Object(i.useState)(0),c=Object(b.a)(s,2),o=c[0],l=c[1];Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,O(n);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:l(t-1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();e().catch(console.error)}),[n]);var u=function(){var e=Object(m.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w();case 4:return r=e.sent,e.next=7,I(r,n,t.target.id.value);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:e.container,children:Object(R.jsxs)("form",{onSubmit:u,children:[Object(R.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(R.jsx)(g.a,{className:e.select,labelId:"token",id:"token",value:n,label:"token",onChange:function(e){a(e.target.value)},children:H.tokens.map((function(e){return Object(R.jsx)(v.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(R.jsx)("label",{htmlFor:"id",className:e.label,children:"Operation Index"}),Object(R.jsx)("input",{className:e.input,type:"number",name:"id",value:o,onChange:function(e){return l(e.target.value)},required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Execute"})]})})},L=Object(U.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}}})),B=function(){var e=L();return Object(R.jsx)("div",{className:e.header,children:Object(R.jsxs)("div",{className:e.container,children:[Object(R.jsx)("h1",{className:e.title,children:"MultiSig"}),Object(R.jsxs)("div",{className:e.menu,children:[Object(R.jsx)("a",{href:"/create",className:e.menuItem,children:"Create"}),Object(R.jsx)("a",{href:"/Submit",className:e.menuItem,children:"Submit"}),Object(R.jsx)("a",{href:"/execute",className:e.menuItem,children:"Execute"}),Object(R.jsx)("a",{href:"/rotate",className:e.menuItem,children:"Rotate"})]})]})})},W=Object(U.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"},opID:{margin:"2vw"}}})),K=r(93),_=function(){var e=W(),t=Object(i.useState)(1),r=Object(b.a)(t,2),n=r[0],a=r[1],s=Object(i.useState)(0),c=Object(b.a)(s,2),o=c[0],l=c[1],u=Object(i.useState)(K.tokens[0].multisigAddr),p=Object(b.a)(u,2),j=p[0],f=p[1];Object(i.useEffect)((function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,O(j);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:l(t);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();e().catch(console.error)}),[j]);var x=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),e.prev=1,r=[],a=1;a<=n;a++)r.push({signature:t.target["signature".concat(a)].value,address:t.target["address".concat(a)].value});return r.sort((function(e,t){var r=BigInt("0x"+h.TezosMessageUtils.writeAddress(e.address)),n=BigInt("0x"+h.TezosMessageUtils.writeAddress(t.address));return r>n?1:r<n?-1:0})),e.next=7,w();case 7:return i=e.sent,e.next=10,O(j);case 10:return s=e.sent,e.next=13,P(i,j,r,t.target.operation.value,"submit");case 13:alert("operation submitted"),l(s),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:e.container,children:[Object(R.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(e.target.count.value)},children:[Object(R.jsx)("label",{htmlFor:"count",className:e.label,children:"Signature Count"}),Object(R.jsx)("input",{className:e.input,type:"number",min:1,name:"count",placeholder:"Signature Count",required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Set"})]}),Object(R.jsx)("br",{}),function(){for(var t=[],r=1;r<=n;r++)t.push(Object(R.jsxs)("div",{children:[Object(R.jsxs)("label",{htmlFor:"address".concat(r),className:e.label,children:["Address ",r]}),Object(R.jsx)("input",{className:e.input,type:"text",name:"address".concat(r),placeholder:"Address",required:!0}),Object(R.jsxs)("label",{htmlFor:"signature".concat(r),className:e.label,children:["Signature ",r]}),Object(R.jsx)("input",{className:e.input,type:"text",name:"signature".concat(r),placeholder:"Signature",required:!0})]},"sigContainer".concat(r)));return Object(R.jsxs)("form",{onSubmit:x,children:[Object(R.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(R.jsx)(g.a,{className:e.select,labelId:"token",id:"token",value:j,label:"token",onChange:function(e){f(e.target.value)},children:K.tokens.map((function(e){return Object(R.jsx)(v.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(R.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(R.jsx)("input",{className:e.input,type:"text",name:"operation",placeholder:"Operation",required:!0}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),t,Object(R.jsx)("input",{className:e.input,type:"submit",value:"Submit"})]})}(),Object(R.jsxs)("div",{className:e.opID,children:["Operation Index: ",o]})]})},J=Object(U.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"},opID:{margin:"2vw"}}})),X=r(93),Z=function(){var e=J(),t=Object(i.useState)(1),r=Object(b.a)(t,2),n=r[0],a=r[1],s=Object(i.useState)(X.tokens[0].multisigAddr),c=Object(b.a)(s,2),o=c[0],l=c[1],u=function(){var e=Object(m.a)(d.a.mark((function e(t){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),e.prev=1,r=[],a=1;a<=n;a++)r.push({signature:t.target["signature".concat(a)].value,address:t.target["address".concat(a)].value});return r.sort((function(e,t){var r=BigInt("0x"+h.TezosMessageUtils.writeAddress(e.address)),n=BigInt("0x"+h.TezosMessageUtils.writeAddress(t.address));return r>n?1:r<n?-1:0})),e.next=7,w();case 7:return i=e.sent,e.next=10,P(i,o,r,t.target.operation.value,"rotate");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:e.container,children:[Object(R.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(e.target.count.value)},children:[Object(R.jsx)("label",{htmlFor:"count",className:e.label,children:"Signature Count"}),Object(R.jsx)("input",{className:e.input,type:"number",min:1,name:"count",placeholder:"Signature Count",required:!0}),Object(R.jsx)("input",{className:e.input,type:"submit",value:"Set"})]}),Object(R.jsx)("br",{}),function(){for(var t=[],r=1;r<=n;r++)t.push(Object(R.jsxs)("div",{children:[Object(R.jsxs)("label",{htmlFor:"address".concat(r),className:e.label,children:["Address ",r]}),Object(R.jsx)("input",{className:e.input,type:"text",name:"address".concat(r),placeholder:"Address",required:!0}),Object(R.jsxs)("label",{htmlFor:"signature".concat(r),className:e.label,children:["Signature ",r]}),Object(R.jsx)("input",{className:e.input,type:"text",name:"signature".concat(r),placeholder:"Signature",required:!0})]},"sigContainer".concat(r)));return Object(R.jsxs)("form",{onSubmit:u,children:[Object(R.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(R.jsx)(g.a,{className:e.select,labelId:"token",id:"token",value:o,label:"token",onChange:function(e){l(e.target.value)},children:X.tokens.map((function(e){return Object(R.jsx)(v.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(R.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(R.jsx)("input",{className:e.input,type:"text",name:"operation",placeholder:"Operation",required:!0}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),t,Object(R.jsx)("input",{className:e.input,type:"submit",value:"Rotate"})]})}()]})};var G=function(){return Object(R.jsx)(l.a,{basename:"/multisig",children:Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(B,{}),Object(R.jsxs)(u.Switch,{children:[Object(R.jsx)(u.Route,{exact:!0,path:"/",children:Object(R.jsx)(M,{})})," ",Object(R.jsx)(u.Route,{exact:!0,path:"/create",children:Object(R.jsx)(M,{})}),Object(R.jsx)(u.Route,{exact:!0,path:"/submit",children:Object(R.jsx)(_,{})}),Object(R.jsx)(u.Route,{exact:!0,path:"/execute",children:Object(R.jsx)(q,{})}),Object(R.jsx)(u.Route,{exact:!0,path:"/rotate",children:Object(R.jsx)(Z,{})})]})]})})},V=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,433)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),i(e),s(e)}))};o.a.render(Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(a.a,{basename:"/multisig",children:Object(R.jsx)(G,{})})}),document.getElementById("root")),V()},93:function(e,t,r){"use strict";r.r(t);t.default={rpc:"https://mainnet.tezos.marigold.dev/",network:"mainnet",tokens:[{tokenName:"USDtz",tokenAddr:"KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9",multisigAddr:"KT1DTxmuuEARtynHP2r6EX14PieaPmTu1vxF"},{tokenName:"ETHtz",tokenAddr:"KT19at7rQUvyjxnZ2fBv7D9zc8rkyG7gAoU8",multisigAddr:"KT1KVx6hbPZERpszy9MsiK18XjrJewUJYYfW"},{tokenName:"BTCtz",tokenType:"FA2",tokenIndex:0,tokenAddr:"KT1T87QbpXEVgkwsNPzz8iRoah3SS3D1MDmh",multisigAddr:"KT18mL6WEyiJbevboKa8kEVRP2Rgvb8gxaJD"}]}}},[[399,1,2]]]);
//# sourceMappingURL=main.00ed538b.chunk.js.map